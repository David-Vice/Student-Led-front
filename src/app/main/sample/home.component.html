<div *ngIf="formLoaded;else preloader">
    <div class="input-group mb-1 flex-fill w-100">
        <div class="input-group-prepend flex-fill w-25">
            <span class="input-group-text rounded-0 rounded-bottom-left-1 rounded-top-left-1 flex-fill">Upload</span>
        </div>
        <div class="custom-file flex-fill w-75">
            <input type="file" accept="image/*" class="custom-file-input" (change)="uploadPhoto($event)">
            <label class="custom-file-label rounded-0 rounded-bottom-right-1 rounded-top-right-1" for="inputGroupFile01">Choose file</label>
        </div>
    </div>

    <div class="container" *ngIf="tmpImage !== null">
        <div class="row mb-1">
            <div class="col-12 w-100">
                <div class="input-group w-100">
                    <button type="button" class="btn btn-danger w-50 rounded-0 rounded-top-left-1 rounded-bottom-left-1" (click)="deletePhoto()">Delete</button>
                    <button type="button" class="btn btn-success w-50 rounded-0 rounded-top-right-1 rounded-bottom-right-1" (click)="sendPhoto()">Send</button>
                </div>
            </div>
        </div>
        <div class="row mb-1 w-100" style="height: 500px;">
            <div class="col-6 w-100">
                <img  
                class="img-fluid w-100"
                src="{{tmpImage}}"
                alt="tmpImage"
                >
            </div>
            <div class="col-6 w-100">
                <div style="max-height: 500px; overflow: auto">
                    <table class="table table-striped table-hover h4">
                      <thead>
                        <tr>
                          <th class="table-head" scope="col">#</th>
                          <th class="table-head" scope="col">Product</th>
                          <th class="table-head" scope="col">Tap.az</th>
                          <th class="table-head" scope="col">Ebay.com</th>
                          <th class="table-head" scope="col">Amazon.com</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr  class="kb-search-content" *ngFor="let detection of detections">
                          <td scope="row">{{detections.indexOf(detection)+1}}</td>
                          <td>{{getName(detection)}}</td>
                          <td>
                            <button>
                                <a [href]="getTapaz(detection['category'])" target="_blank">
                                <img src="../../../assets/images/mine/tapaz.png" width="50" height="50" alt="tapaz">
                                </a>
                            </button>
                          </td>
                          <td>
                            <button>
                                <a [href]="getEbay(detection['category'])" target="_blank">
                                <img src="../../../assets/images/mine/ebay.png" width="50" height="50" alt="ebay">
                                </a>
                            </button>
                          </td>
                          <td>
                            <button>
                                <a [href]="getAmazon(detection['category'])" target="_blank">
                                <img src="../../../assets/images/mine/amazon.png" width="50" height="50" alt="amazon">
                                </a>
                            </button>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>
<ng-template #preloader>
    <div class="d-flex justify-content-center">
        <div class="spinner-border" role="status">
        <span class="sr-only">Loading...</span>
        </div>
    </div>
</ng-template>